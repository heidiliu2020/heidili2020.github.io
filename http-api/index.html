<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/apple-icon.png" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"heidiliu2020.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":true,"sidebar":{"position":"right","Pisces | Gemini":200,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null,"activeClass":"disqus"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本篇為 [NET101] 網路基礎概論（搭配 JS 實作練習） 這門課程的學習筆記。如有錯誤歡迎指正。  學習目標：   知道網路背後大概的運作模式  知道什麼是 Request 跟 Response  知道什麼是 DNS 以及運作原理  知道 HTTP 與 HTTPS 的差異  知道 localhost 跟 127.0.0.1 是什麼  知道 GET 與 POST 的差別  知道常用的 HTT">
<meta property="og:type" content="article">
<meta property="og:title" content="[week 4] 網路基礎概論 - HTTP 協定、TCP&#x2F;IP">
<meta property="og:url" content="https://heidiliu2020.github.io/http-api/index.html">
<meta property="og:site_name" content="前端新米">
<meta property="og:description" content="本篇為 [NET101] 網路基礎概論（搭配 JS 實作練習） 這門課程的學習筆記。如有錯誤歡迎指正。  學習目標：   知道網路背後大概的運作模式  知道什麼是 Request 跟 Response  知道什麼是 DNS 以及運作原理  知道 HTTP 與 HTTPS 的差異  知道 localhost 跟 127.0.0.1 是什麼  知道 GET 與 POST 的差別  知道常用的 HTT">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://i.imgur.com/EYmEfr8.png">
<meta property="og:image" content="https://i.imgur.com/4pi9zu5.png">
<meta property="og:image" content="https://i.imgur.com/LsnJjwB.png">
<meta property="og:image" content="https://i.imgur.com/wTIOWZF.png">
<meta property="og:image" content="https://i.imgur.com/795sNFV.png">
<meta property="og:image" content="https://i.imgur.com/C2MUvS4.png">
<meta property="og:image" content="https://i.imgur.com/K7UVu6f.png">
<meta property="og:image" content="https://i.imgur.com/7dixXCe.png">
<meta property="og:image" content="https://i.imgur.com/PUPfab0.png">
<meta property="og:image" content="https://i.imgur.com/p1PKLHk.png">
<meta property="og:image" content="https://i.imgur.com/Ay4ut32.png">
<meta property="og:image" content="https://i.imgur.com/Dy8kyCR.png">
<meta property="og:image" content="https://i.imgur.com/KufqrXq.png">
<meta property="og:image" content="https://i.imgur.com/WX6bq3s.png">
<meta property="og:image" content="https://i.imgur.com/wLsG4hH.png">
<meta property="og:image" content="https://i.imgur.com/GFDpM8z.png">
<meta property="og:image" content="https://i.imgur.com/TFcsKyY.png">
<meta property="og:image" content="https://i.imgur.com/PHSLrDe.png">
<meta property="og:image" content="https://i.imgur.com/oJPxLiH.png">
<meta property="og:image" content="https://i.imgur.com/DWirKxl.png">
<meta property="og:image" content="https://i.imgur.com/JiCCL5b.png">
<meta property="og:image" content="https://i.imgur.com/HrpOUWq.png">
<meta property="og:image" content="https://i.imgur.com/dRHS9rO.png">
<meta property="og:image" content="https://i.imgur.com/SOHZu0h.png">
<meta property="og:image" content="https://i.imgur.com/JHOyAUo.png">
<meta property="og:image" content="https://i.imgur.com/HXbVmTk.png">
<meta property="og:image" content="https://i.imgur.com/rxiOXN2.png">
<meta property="og:image" content="https://i.imgur.com/RbyGVvV.png">
<meta property="article:published_time" content="2020-07-12T05:39:00.000Z">
<meta property="article:modified_time" content="2021-01-04T07:18:20.259Z">
<meta property="article:author" content="Heidi Liu">
<meta property="article:tag" content="HTTP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/EYmEfr8.png">

<link rel="canonical" href="https://heidiliu2020.github.io/http-api/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>[week 4] 網路基礎概論 - HTTP 協定、TCP/IP | 前端新米</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SK3E4H2TXJ"></script>
    <script data-pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-SK3E4H2TXJ');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">前端新米</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Heidi's Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-首頁">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-文章分類">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>文章分類</a>

  </li>
        <li class="menu-item menu-item-文章列表">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章列表</a>

  </li>
        <li class="menu-item menu-item-關於我">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>關於我</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://heidiliu2020.github.io/http-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/65410665?s=460&u=887bd602944dcf78b90f3a880b03aec4e086728a&v=4">
      <meta itemprop="name" content="Heidi Liu">
      <meta itemprop="description" content="海底修羅場｜日々進化中">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端新米">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [week 4] 網路基礎概論 - HTTP 協定、TCP/IP
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-07-12 13:39:00" itemprop="dateCreated datePublished" datetime="2020-07-12T13:39:00+08:00">2020-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-01-04 15:18:20" itemprop="dateModified" datetime="2021-01-04T15:18:20+08:00">2021-01-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index"><span itemprop="name">Front-End</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>本篇為 <span class="exturl" data-url="aHR0cHM6Ly9saWRlbXkuY29tL3AvbmV0MTAxLWpz">[NET101] 網路基礎概論（搭配 JS 實作練習）<i class="fa fa-external-link-alt"></i></span> 這門課程的學習筆記。如有錯誤歡迎指正。</p>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">學習目標：

 知道網路背後大概的運作模式
 知道什麼是 Request 跟 Response
 知道什麼是 DNS 以及運作原理
 知道 HTTP 與 HTTPS 的差異
 知道 localhost 跟 127.0.0.1 是什麼
 知道 GET 與 POST 的差別
 知道常用的 HTTP Header
 知道什麼是 API
 會使用 node.js 寫出串接 API 的程式
 知道 HTTP method 有哪些
 知道基本的 HTTP statud code，像是 200、301、400、404、500<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id=""><a href="#" class="headerlink" title=""></a><span id="more"></span></h2><h2 id="HTTP-是什麼？"><a href="#HTTP-是什麼？" class="headerlink" title="HTTP 是什麼？"></a>HTTP 是什麼？</h2><p>全名是 HyperText Transfer Protocol，中文翻作「 超文本傳輸協定」。</p>
<p>HTTP 是一套網路傳輸協定，為<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3poLXR3LyVFOCVCNiU4NSVFNiU5NiU4NyVFNiU5QyVBQyVFNCVCQyVBMCVFOCVCRSU5MyVFNSU4RCU4RiVFOCVBRSVBRQ==">全球資訊網的資料通訊的基礎<i class="fa fa-external-link-alt"></i></span>。也就是說，網頁前端和後端在溝通時，就是透過 HTTP 協定進行。</p>
<h3 id="為什麼我們需要-Protocol（協定）？"><a href="#為什麼我們需要-Protocol（協定）？" class="headerlink" title="為什麼我們需要 Protocol（協定）？"></a>為什麼我們需要 Protocol（協定）？</h3><p>簡言之，協定就是一個「標準」。協定是為了讓彼此溝通而建立的規範，制定標準以統一格式，如此能夠進行規模化。</p>
<h2 id="Client-amp-Server"><a href="#Client-amp-Server" class="headerlink" title="Client &amp; Server"></a>Client &amp; Server</h2><p>而透過協議溝通的兩端，通常可分為客戶端（Client）和伺服器端（Server）。</p>
<p><img src="https://i.imgur.com/EYmEfr8.png"></p>
<h3 id="我們如何看到網頁的畫面？"><a href="#我們如何看到網頁的畫面？" class="headerlink" title="我們如何看到網頁的畫面？"></a>我們如何看到網頁的畫面？</h3><p>網頁上的資訊，其實就是由許多 request 跟 response 構成。且兩者內容均分成 header 與 body，分別帶著不同資訊：</p>
<ul>
<li>header：額外資訊</li>
<li>body：主要內容</li>
</ul>
<p>我們可透過瀏覽器的開發者工具、或是 <span class="exturl" data-url="aHR0cHM6Ly93d3cuaXRyZWFkMDEuY29tL2NvbnRlbnQvMTU0NzM3NzA4Ny5odG1s">HTTP 抓包工具 Charles<i class="fa fa-external-link-alt"></i></span> 來查看詳細資訊，過程大致如下：</p>
<ol>
<li>瀏覽器（Client）產生 HTTP「request」傳給 Server</li>
<li>Server 經過處理後，回傳一個「response」</li>
<li>再由瀏覽器進行解析（html、css、js 等），將程式碼渲染成我們所熟悉的網頁介面</li>
</ol>
<p><img src="https://i.imgur.com/4pi9zu5.png" alt="瀏覽器"></p>
<h2 id="DNS-域名系統"><a href="#DNS-域名系統" class="headerlink" title="DNS 域名系統"></a>DNS 域名系統</h2><p>全名是 Domain Name System，負責將域名轉換成 IP 位置。</p>
<ul>
<li>域名（Domain）：即常用的網址。google.com 就是一個域名，類似景點名稱。</li>
<li>IP 位置：每個主機都有個 IP 位置，是網路溝通的地址。由四個數字組成，範圍是 0 ~ 255。</li>
</ul>
<blockquote>
<p>補充：localhost 跟 127.0.0.1 是什麼？</p>
<ul>
<li><code>localhost</code>：是一個域名，對應的的 IP 位址是 127.0.0.1</li>
<li><code>127.0.0.1</code> 是回送地址，指本地機，一般用來測試使用</li>
</ul>
</blockquote>
<h3 id="以查詢地址為例"><a href="#以查詢地址為例" class="headerlink" title="以查詢地址為例"></a>以查詢地址為例</h3><ol>
<li>如果今天想要抵達 台北 101（域名）</li>
<li>查詢 Google 地址在哪（DNS）</li>
<li>回覆正確地址：台北市信義區信義路五段 7 號（IP）</li>
</ol>
<blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvR29vZ2xlX1B1YmxpY19ETlM=">Google 提供免費的 DNS 伺服器<i class="fa fa-external-link-alt"></i></span> 8.8.8.8 和 8.8.4.4，如此可透過搜尋引擎來蒐集大數據。</p>
</blockquote>
<h3 id="以-GitHub-網站為例"><a href="#以-GitHub-網站為例" class="headerlink" title="以 GitHub 網站為例"></a>以 GitHub 網站為例</h3><p>就是透過 DNS 把 Request URL（github.com） 轉換成實際 IP 位置（13.250.177.223）。</p>
<p><img src="https://i.imgur.com/LsnJjwB.png" alt="DNS"></p>
<h3 id="nslookup-指令"><a href="#nslookup-指令" class="headerlink" title="nslookup 指令"></a><code>nslookup</code> 指令</h3><p>在終端機輸入 <code>nslookup &#39;網址&#39;</code>：可查詢 DNS 伺服器。有可能出現多個結果，代表對應到多個 server。</p>
<p><img src="https://i.imgur.com/wTIOWZF.png" alt="nslookup"></p>
<h2 id="瀏覽器只是一個程式"><a href="#瀏覽器只是一個程式" class="headerlink" title="瀏覽器只是一個程式"></a>瀏覽器只是一個程式</h2><p>即使我們沒有瀏覽器，也能夠過其他方式發送 request 跟取得 response。</p>
<h3 id="實做一個-Client-端發送-request"><a href="#實做一個-Client-端發送-request" class="headerlink" title="實做一個 Client 端發送 request"></a>實做一個 Client 端發送 request</h3><p>利用 Node.js 的一套 library：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JlcXVlc3QvcmVxdWVzdA==">request - Simplified HTTP client<i class="fa fa-external-link-alt"></i></span>，來模擬瀏覽器發送 request 的過程，步驟如下：</p>
<ol>
<li>安裝套件：<code>npm install request</code></li>
<li>使用方法：複製官網提供的範本，貼到 index.js 裡</li>
</ol>
<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://www.google.com'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'error:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the error if one occurred</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'statusCode:'</span><span class="token punctuation">,</span> response <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the response status code if a response was received</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'body:'</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print the HTML for the Google homepage.</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li>修改成要發送 request 的域名</li>
</ol>
<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'https://github.com/Lidemy/mentor-program-4th-heidiliu2020'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'error:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'statusCode:'</span><span class="token punctuation">,</span> response <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'body:'</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="4">
<li>執行 <code>node index.js</code> 可拿到 response</li>
</ol>
<p><img src="https://i.imgur.com/795sNFV.png" alt="執行 request"></p>
<ol start="5">
<li>或是利用 <code>node index.js &gt; github.html</code> 導入程式碼，一樣能打開網頁</li>
</ol>
<hr>
<h2 id="HTTP-Request-Method-請求方法"><a href="#HTTP-Request-Method-請求方法" class="headerlink" title="HTTP Request Method 請求方法"></a>HTTP Request Method 請求方法</h2><p>什麼是 <code>HTTP Method</code>？在 HTTP 1.1 協定中，定義了八種方法，來以不同方式操作指定的資源。詳細可參考 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtVFcvZG9jcy9XZWIvSFRUUC9NZXRob2Rz">HTTP 請求方法- HTTP | MDN<i class="fa fa-external-link-alt"></i></span>：</p>
<ul>
<li>GET：只應用於取得資料</li>
<li>HEAD：只獲取回應的 header，但沒有 body。較少使用，通常應用在只想知道 response 資訊時</li>
<li>POST：用於提交指定資源的實體。通常會改變伺服器的狀態</li>
<li>PUT：取代原本的整個 request。和 PATCH 類似</li>
<li>PATCH：修改部分 request</li>
<li>DELETE：刪除資源</li>
<li>OPTIONS：會回傳 server 支援哪些方法</li>
<li>TRACE</li>
<li>CONNECT</li>
</ul>
<p>這是為了讓 Server 能夠清楚辨別 request 的目的。</p>
<h3 id="CRUD-原則"><a href="#CRUD-原則" class="headerlink" title="CRUD 原則"></a>CRUD 原則</h3><p>常用的幾個動作分別為：GET / POST / PUT / DELETE，正好對應到資料庫基本操作 <span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JUEyJTlFJUU1JTg4JUFBJUU2JTlGJUE1JUU2JTk0JUI5">CRUD 增刪查改<i class="fa fa-external-link-alt"></i></span>：</p>
<ul>
<li>Create：新增（POST）</li>
<li>Delete：刪除（DELETE）</li>
<li>Read：讀取（GET）</li>
<li>Update：更新（PUT）</li>
</ul>
<h3 id="RESTful"><a href="#RESTful" class="headerlink" title="RESTful"></a>RESTful</h3><ul>
<li>REST：全名是 Representational State Transfer，中文為「表現層狀態轉換」，是一種設計風格，以語意化且更為嚴謹的方式描述 API</li>
<li>RESTful：形容以此規範設計的 API</li>
</ul>
<p>一般的 API 可能會長這樣：</p>
<pre class="line-numbers language-none"><code class="language-none">新增使用者：POST + &#x2F;new_user
刪除使用者：POST + &#x2F;delete_user
查詢使用者：GET + &#x2F;user_data&#x2F;:id
更改使用者：POST + &#x2F;update_user<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>若以 RESTful API 風格開發：</p>
<pre class="line-numbers language-none"><code class="language-none">新增使用者：POST + &#x2F;users
刪除使用者：DELETE + &#x2F;users&#x2F;:id
查詢使用者：GET + &#x2F;users&#x2F;:id
更改使用者：PATCH + &#x2F;users&#x2F;:id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>由此可見 RESTful 的寫法較一致，且語意化更好理解。透過把「動作」藏在 HTTP method 裡面，而有唯一的 URL（<code>/users</code>）表示資源位置，藉此統一 API 接口。</p>
<blockquote>
<p>如果用 HTML 來比喻，寫網頁時我們可以全部使用 div 標籤，但為了幫助理解，通常會使用 li、section、article 等具有語意的標籤，即可從結構看出內容的作用。</p>
</blockquote>
<p>參考資料：<span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL2l0c2Vtcy1mcm9udGVuZC9hcGktJUU2JTk4JUFGJUU0JUJCJTgwJUU5JUJBJUJDLXJlc3RmdWwtYXBpLSVFNSU4RiU4OCVFNiU5OCVBRiVFNCVCQiU4MCVFOSVCQSVCQy1hMDAxYTg1YWI2Mzg=">API 是什麼? RESTful API 又是什麼? - Medium<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="GET-amp-POST-請求的區別"><a href="#GET-amp-POST-請求的區別" class="headerlink" title="GET &amp; POST 請求的區別"></a>GET &amp; POST 請求的區別</h3><p>當中又以 <code>GET</code> 和 <code>POST</code> 兩種，為最常使用的 HTTP 請求方法。兩者最直觀的區別是「資料傳遞方式」與「安全性」。</p>
<h4 id="GET：向指定的資源要求資料，類似於查詢操作。"><a href="#GET：向指定的資源要求資料，類似於查詢操作。" class="headerlink" title="GET：向指定的資源要求資料，類似於查詢操作。"></a><code>GET</code>：向指定的資源要求資料，類似於查詢操作。</h4><ul>
<li>資料傳遞方式：將引數由 URL 帶至 Server 端</li>
<li>安全性：較 POST 不安全，因為傳遞的引數會在 URL 上顯示</li>
<li>例如：讀取連結或圖片</li>
</ul>
<p><img src="https://i.imgur.com/C2MUvS4.png" alt="GET"></p>
<h4 id="POST：將要處理的資料提交給指定的資源，類似於更新操作。"><a href="#POST：將要處理的資料提交給指定的資源，類似於更新操作。" class="headerlink" title="POST：將要處理的資料提交給指定的資源，類似於更新操作。"></a><code>POST</code>：將要處理的資料提交給指定的資源，類似於更新操作。</h4><ul>
<li>資料傳遞方式：將引數放在 request body 中傳遞</li>
<li>安全性：較 GET 安全，適合用於隱密性較高的資料</li>
<li>例如：會員登入系統（如下圖所示）</li>
</ul>
<p><img src="https://i.imgur.com/K7UVu6f.png" alt="POST"></p>
<p>在最下方夾帶 request 資訊：</p>
<p><img src="https://i.imgur.com/7dixXCe.png" alt="request body"></p>
<h3 id="HTTP-Status-Code-狀態碼"><a href="#HTTP-Status-Code-狀態碼" class="headerlink" title="HTTP Status Code 狀態碼"></a>HTTP Status Code 狀態碼</h3><p>是 HTTP 用「3 位數字代碼」來表示回應狀態，通常以開頭的數字來進行區分。詳細可參考 <span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvSFRUUCVFNyU4QSVCNiVFNiU4MCU4MSVFNyVBMCU4MQ==">HTTP 狀態碼- 維基百科<i class="fa fa-external-link-alt"></i></span>：</p>
<h4 id="1xx：訊息（較少見）"><a href="#1xx：訊息（較少見）" class="headerlink" title="1xx：訊息（較少見）"></a>1xx：訊息（較少見）</h4><h4 id="2xx：Success-成功"><a href="#2xx：Success-成功" class="headerlink" title="2xx：Success 成功"></a>2xx：Success 成功</h4><ul>
<li><code>200 OK</code>：代表成功</li>
<li><code>204 No Content</code>：伺服器成功處理了請求，沒有返回任何內容（例如發出 DELETE XXX 訊息，回傳 204 代表刪除成功）</li>
</ul>
<h4 id="3xx：Redirect-重新導向"><a href="#3xx：Redirect-重新導向" class="headerlink" title="3xx：Redirect 重新導向"></a>3xx：Redirect 重新導向</h4><ul>
<li><code>301 Moved Permanently</code>：資源「永久」移到新位置</li>
<li><code>302 Found</code>：資源「暫時」移到其他位置</li>
</ul>
<h4 id="4xx：User-error-客戶端錯誤"><a href="#4xx：User-error-客戶端錯誤" class="headerlink" title="4xx：User error 客戶端錯誤"></a>4xx：User error 客戶端錯誤</h4><ul>
<li><code>400 Bad Request</code>：請求語法錯誤、資源太大、請求訊息無效等</li>
<li><code>404 Not Found</code>：找不到資源</li>
</ul>
<h4 id="5xx：Server-error-伺服器端錯誤"><a href="#5xx：Server-error-伺服器端錯誤" class="headerlink" title="5xx：Server error 伺服器端錯誤"></a>5xx：Server error 伺服器端錯誤</h4><ul>
<li><code>500 Internal Server Error</code>：伺服器出錯。例如搶票時伺服器當機</li>
<li><code>503 Service Unavailable</code>：由於臨時的伺服器維護或者過載，伺服器當前無法處理請求</li>
</ul>
<p>參考資料：</p>
<ol>
<li><span class="exturl" data-url="aHR0cHM6Ly95YWtpbWhzdS5jb20vcHJvamVjdC9wcm9qZWN0X3c0X05ldHdvcmtfaHR0cC5odG1s">[第四週] 網路基礎 - HTTP、Request、Response - Yakim<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDE5MjA5NQ==">[Day 09] 表單中的 GET 與 POST<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cuaXRyZWFkMDEuY29tL2NvbnRlbnQvMTU0MzU3MTA0Ni5odG1s">GET 和 POST 請求的區別（面試和原理都得知道）<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0B0b3Rvcm9MaXUvaHR0cC1wb3N0LSVFNSU5MiU4Qy1nZXQtJUU1JUI3JUFFJUU3JTk1JUIwLTkyODgyOWQyOTkxNA==">http Post 和 Get 差異<i class="fa fa-external-link-alt"></i></span></li>
</ol>
<h3 id="實作一個簡易-HTTP-Server-端"><a href="#實作一個簡易-HTTP-Server-端" class="headerlink" title="實作一個簡易 HTTP Server 端"></a>實作一個簡易 HTTP Server 端</h3><p>前面我們已經實作一個 Client 端，也就是利用 request 這個 library 來顯示出來。接下來我們要利用 Node.js 內建 <code>library：http</code> 來實作 Server 端：</p>
<ol>
<li>建立一個檔案 <code>server.js</code>，並輸入下列程式碼：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引用 library: http</span>

<span class="token keyword">let</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>handleRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 監聽 5000 這個 port</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li><p>執行 <code>node server.js</code>：不會跑出任何東西。因為沒有 <code>console.log</code> 任何東西，所以是正常的。此時程式會一直執行到按 <code>Crtl + C</code> 才會退出，符合 server 端必須不斷運行來接收資訊。</p>
</li>
<li><p>在瀏覽器輸入網址 <code>localhost:5000</code> 會跑出下列畫面：</p>
</li>
</ol>
<p><img src="https://i.imgur.com/PUPfab0.png" alt="localhost:5000"></p>
<ol start="4">
<li>若修改程式碼如下，即可根據「不同網址」給出「不同回應」：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引用 library: http</span>

<span class="token keyword">let</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>handleRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 若網址為根目錄</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"welcome!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/hello"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 若網址為 /hello</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"redirect"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 監聽 5000 這個 port</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>輸入網址 <code>localhost:5000</code>：回應 welcome</li>
</ul>
<p><img src="https://i.imgur.com/p1PKLHk.png" alt="welcome"></p>
<ul>
<li>輸入網址 <code>localhost:5000/hello</code>：回應 hello</li>
</ul>
<p><img src="https://i.imgur.com/Ay4ut32.png" alt="hello"></p>
<ol start="5">
<li>再增加 <code>redirect</code> 部分和 <code>res.writeHead(404)</code>，就完成一個較完整的 Server 端：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引用 library: http</span>

<span class="token keyword">let</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>handleRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"welcome!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/hello"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/redirect"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
      lidemy<span class="token operator">:</span> <span class="token string">"good"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 監聽 5000 這個 port</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>若輸入不存在的網址，就會出現狀態 <code>404 Not Found</code>：</li>
</ul>
<p><img src="https://i.imgur.com/Dy8kyCR.png" alt="404"></p>
<ul>
<li>若輸入 <code>localhost:5000/redirect</code>，會在 Response Headers 會出現 <code>&#39;lidemy&#39;: &#39;good&#39;</code>：</li>
</ul>
<p><img src="https://i.imgur.com/KufqrXq.png" alt="&#39;lidemy&#39;: &#39;good&#39;"></p>
<ol start="6">
<li>在之前的狀態碼有提到，若要轉址必須改成 <code>302 Found</code>：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/redirect"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    Location<span class="token operator">:</span> <span class="token string">"/hello"</span><span class="token punctuation">,</span> <span class="token comment">// 指定要轉到哪裡</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="7">
<li>輸入網址 <code>&#39;localhost:5000/redirect</code>，瀏覽器就會轉址到新位置：</li>
</ol>
<p><img src="https://i.imgur.com/WX6bq3s.png" alt="302"></p>
<ul>
<li>若將程式碼改成 <code>&#39;Location&#39;: &#39;https://google.com&#39;</code>：輸入網址 <code>localhost:5000/redirect</code> 就會直接連到 <code>google.com</code></li>
</ul>
<hr>
<h2 id="淺談-TCP-IP"><a href="#淺談-TCP-IP" class="headerlink" title="淺談 TCP/IP"></a>淺談 TCP/IP</h2><h3 id="網路的層級"><a href="#網路的層級" class="headerlink" title="網路的層級"></a>網路的層級</h3><p>先前提到「從電腦發出 request 到 server」，在溝通訊息這段過程，其實需要經過非常多道手續。因此就有組織將網路標準化，將網路連接過程分成數個階層（layer），每個階層都有特別的獨立的功能。</p>
<p>分層的好處，是只要處理該層級的事情就好，因為每個階層的程式碼可以獨立撰寫，功能也不會相互干擾。</p>
<p>而著名的分層模型主要有兩種：</p>
<h3 id="OSI-七層協定"><a href="#OSI-七層協定" class="headerlink" title="OSI 七層協定"></a>OSI 七層協定</h3><p>由於協定非常嚴謹，較偏向理論。</p>
<p><img src="https://i.imgur.com/wLsG4hH.png" alt="OSI"></p>
<h3 id="TCP-IP-四層模型"><a href="#TCP-IP-四層模型" class="headerlink" title="TCP/IP 四層模型"></a>TCP/IP 四層模型</h3><p>TCP/IP 是由 OSI 七層協定簡化而來，為目前網路通訊的基礎架構。以下為兩者之間的比較圖與常見的通訊協定：</p>
<p><img src="https://i.imgur.com/GFDpM8z.png" alt="OSI TCP/IP"></p>
<p>參考資料：<span class="exturl" data-url="aHR0cDovL2xpbnV4LnZiaXJkLm9yZy9saW51eF9zZXJ2ZXIvMDExMG5ldHdvcmtfYmFzaWMucGhwI3doYXRpc25ldHdvcmtfdGNwaXA=">2.4 TCP/IP 的傳輸層相關封包與資料 - 鳥哥的 Linux 私房菜<i class="fa fa-external-link-alt"></i></span></p>
<hr>
<h2 id="網路層-IP-地址"><a href="#網路層-IP-地址" class="headerlink" title="網路層 - IP 地址"></a>網路層 - IP 地址</h2><p>IP 的全名是 Internet Protocol，中文是「網際網路協定」。</p>
<p>可分為 IPv4、IPv6 這兩種協議，兩者最主要差異在於「IP 地址的不同」：</p>
<ul>
<li>IPv4：由四個數字組成，範圍是 0~255</li>
<li>IPv6：用來取代 IPv4，主要是為了解決 IP 地址不夠用的問題，可容納更多 IP 地址</li>
</ul>
<h3 id="各種-IP"><a href="#各種-IP" class="headerlink" title="各種 IP"></a>各種 IP</h3><p>我們常聽到的 IP 地址，代表在網路上的地址。在網際網路上，每台電腦之間，是透過 IP 位址來通訊。當中又分為下列幾種類型：</p>
<ul>
<li>固定 IP：不會改變的 IP</li>
</ul>
<p>理想情況下，是每一台電腦都有一個 IP 位址。固定的 IP 位址，適合架設網站，也因為不會變動，確保使用者能夠連上伺服器。例如：伺服主機、網路設備多使用固定 IP。</p>
<ul>
<li>浮動 IP：每次連上網路時的 IP 位置都會不一樣</li>
</ul>
<p>一般用戶大多是浮動 IP。浮動 IP 解決了「IP 不夠用」這個問題，因為每次連線的 IP 位址皆不同，也不會輕易被駭客攻擊。</p>
<ul>
<li>虛擬 IP：僅能使用於內部網路，外網連不上該位置</li>
</ul>
<p>只有在內網才能互相連接，外網找不到該地址，所以內網 IP 位址是可以重複的。但對外網而言，一定會有一個「固定 or 浮動」的 IP 位址。例如：公司使用內網溝通，藉由鎖 IP 位址，可提高安全性。</p>
<blockquote>
<p>通常以 <code>192.168</code> 或 <code>10.0</code> 開頭的，都是虛擬 IP。</p>
</blockquote>
<p><img src="https://i.imgur.com/TFcsKyY.png" alt="虛擬 IP"></p>
<p>參考資料：<span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9xdWVzdGlvbnMvMTAwMDA3OTY=">浮動 IP 與 固定 IP 有何不同?? 各有何優缺點??<i class="fa fa-external-link-alt"></i></span></p>
<hr>
<h2 id="Port-連接埠（端口）"><a href="#Port-連接埠（端口）" class="headerlink" title="Port 連接埠（端口）"></a>Port 連接埠（端口）</h2><p>在應用層當中，每台電腦主機 IP 位置（localhost），可能對應到不同應用程式。例如：HTTP、FTP、信件收發等服務。</p>
<p>而 Port 扮演網路通訊的端點，用來區分不同功能。如此即可辨認出，該連線要對應到哪個應用程式。</p>
<ul>
<li>例如實作 server 端提過的 <code>server.listen(5000)</code>：代表監聽 <code>5000</code> 這個 Port，輸入網址 <code>localhost:5000</code> 即可連到這個服務</li>
</ul>
<p>如果沒有輸入 Port，會有一些預設或常用值：</p>
<ul>
<li>HTTP 80：說明用於網頁瀏覽</li>
<li>HTTPS 443</li>
<li>FTP 21</li>
<li>「測試」常用：3000、4000、8080、8000 等冷門 Port</li>
</ul>
<p>參考資料：<span class="exturl" data-url="aHR0cHM6Ly9kb3RibG9ncy5jb20udHcvYm94NTA2OC8yMDExLzAxLzE5LzIwOTAx">[網路管理]常用 port 說明<i class="fa fa-external-link-alt"></i></span></p>
<hr>
<h2 id="傳輸層-TCP-amp-UDP"><a href="#傳輸層-TCP-amp-UDP" class="headerlink" title="傳輸層 - TCP &amp; UDP"></a>傳輸層 - TCP &amp; UDP</h2><p>傳輸層（Transport Layer）協定提供不同主機之間的資料傳輸及控制。根據不同需求，又分為「可靠的 TCP」和「速度較快的 UDP」兩種協定：</p>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><ul>
<li>全名：Transmission Control Protocol 傳輸控制協定</li>
<li>是一種可靠的資料傳輸，因此大部分的網路協定都是建立在 TCP 上面</li>
<li>透過「三次握手」確認建立一個連接：</li>
</ul>
<p><img src="https://i.imgur.com/PHSLrDe.png"></p>
<pre class="line-numbers language-none"><code class="language-none">若以「傳紙條概念」比喻三次握手：
小明：安安，在嗎？
小美：在阿，你好。
小明：收到，太好了！<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><ul>
<li>全名：User Datagram Protocol 用戶資料包協定</li>
<li>流量是不受規範的，需要快速、重複傳送資料的情況會使用 UDP，相對而言也較不穩定</li>
<li>例如：視訊功能</li>
</ul>
<p>參考資料：</p>
<ol>
<li><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU0JUJDJUEwJUU4JUJFJTkzJUU2JThFJUE3JUU1JTg4JUI2JUU1JThEJThGJUU4JUFFJUFF">TCP 協議 - Wikipedia<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDAwMDAyMQ==">什麼是 OSI 的 7 層架構？和常聽到的 Layer 7 有關？<i class="fa fa-external-link-alt"></i></span></li>
</ol>
<h2 id="小結-從傳紙條概念看-TCP-IP"><a href="#小結-從傳紙條概念看-TCP-IP" class="headerlink" title="小結 - 從傳紙條概念看 TCP/IP"></a>小結 - 從傳紙條概念看 TCP/IP</h2><p>參考 <span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BodWxpdHcvbGVhcm5pbmctdGNwLWlwLWh0dHAtdmlhLXNlbmRpbmctbGV0dGVyLTVkMzI5OTIwMzY2MA==">Huli - 從傳紙條輕鬆學習基本網路概念<i class="fa fa-external-link-alt"></i></span>，我們能夠透過傳紙條的例子，來試著理解網路通訊概念：</p>
<ul>
<li>應用層（HTTP / FTP）：傳輸的資料內容</li>
<li>傳輸層（TCP / UDP）：傳輸方式</li>
<li>網路層（IP）：傳輸地址</li>
<li>實體層（網路電纜）：實體傳輸</li>
</ul>
<p><img src="https://i.imgur.com/oJPxLiH.png" alt="傳紙條概念"></p>
<hr>
<h2 id="淺談-API"><a href="#淺談-API" class="headerlink" title="淺談 API"></a>淺談 API</h2><blockquote>
<p>可參考 <span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BodWxpdHcvcmFtZW4tYW5kLWFwaS02MjM4NDM3ZGM1NDQ=">Huli - 從拉麵店的販賣機理解什麼是 API<i class="fa fa-external-link-alt"></i></span>，或是這部影片：<span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj16dkthZGQ5Q2ZsYyZmZWF0dXJlPWVtYl9sb2dv">什麼是 API？<i class="fa fa-external-link-alt"></i></span>來瞭解。</p>
</blockquote>
<p>全名是 Application Programming ==Interface==，中文是「應用程式==介面==」。簡言之，就是方便溝通、交換資料的管道。</p>
<p>API 是應用程式、裝置之間資料的交換，但不一定要透過網路才能有 API，例如：</p>
<ul>
<li>軟硬體廠商的 API：USB 與 電腦交換資料</li>
<li>作業系統裡的 API：讀取、傳輸及寫入等等電腦上的操作</li>
</ul>
<h3 id="而對於網頁來說就是-Web-API"><a href="#而對於網頁來說就是-Web-API" class="headerlink" title="而對於網頁來說就是 Web API"></a>而對於網頁來說就是 Web API</h3><ul>
<li>Web API：是基於 http 協定下運作的 API，代表透過網路進行資料交換</li>
</ul>
<p>以下為實際的運用例子：</p>
<ul>
<li>會員登入系統：社群連結註冊登入（例如：設置 FB 或 Google 登入按鈕）</li>
<li>社群嵌入：分享、留言版、按讚按鈕、影音（例如：<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS9kb2NzL2dyYXBoLWFwaT9sb2NhbGU9emhfVFc=">Facebook Graphic<i class="fa fa-external-link-alt"></i></span>）</li>
<li>資料嵌入：<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIueWFob28uY29tL3dlYXRoZXIvP2d1Y2NvdW50ZXI9MSZndWNlX3JlZmVycmVyPWFIUjBjSE02THk5NVlXdHBiV2h6ZFM1amIyMHZjSEp2YW1WamRDOXdjbTlxWldOMFgzYzBYMDVsZEhkdmNtdGZRVkJKTG1oMGJXdyZndWNlX3JlZmVycmVyX3NpZz1BUUFBQUJiS3FvVGZJZWNOdHVnTXBvS0tmNUw1M1h3SUpBX2wxelByckpVbVBEMlloMU4tcmNYYmFKaGJuUFFBS1ctVWJuVF9OSmhRWF80aXNZMzc0T1R2YnRSMXE5MURkR2xZT0s0cVNReVFxcjJia3I1WE1QUXVvOGJRVDg3NFJJQ1Y2SUYyc0hzcjJ5cDg0VVhNVjQ1NDlSMWFYRmpITnQ5bGlmSUkzWWRUdmJBWQ==">Yahoo 氣象<i class="fa fa-external-link-alt"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL3RpbWV6b25lL3N0YXJ0P2hsPXpoLXR3">Google 地圖<i class="fa fa-external-link-alt"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIudHdpdHRlci5jb20vZW4vZG9jcy90d2VldHMvdGltZWxpbmVzL292ZXJ2aWV3">Tweet timelines<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9wb2tlYXBpLmNvLw==">PokéAPI<i class="fa fa-external-link-alt"></i></span>：拿到寶可夢的資訊</li>
<li><span class="exturl" data-url="aHR0cHM6Ly9waWNzdW0ucGhvdG9zLw==">假圖 API<i class="fa fa-external-link-alt"></i></span>：隨機產生出圖片</li>
</ul>
<p>透過 API 能夠達到省時、便利、營利等優點，因此我們也可以說，API 是一個「能讓生產者與消費者雙方溝通的介面」。</p>
<h2 id="實際串接-API"><a href="#實際串接-API" class="headerlink" title="實際串接 API"></a>實際串接 API</h2><h3 id="串接的前置作業"><a href="#串接的前置作業" class="headerlink" title="串接的前置作業"></a>串接的前置作業</h3><ol>
<li>準備 Client 端（發出端）：使用 node.js <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JlcXVlc3QvcmVxdWVzdA==">library request<i class="fa fa-external-link-alt"></i></span> 實作一個 Client 端</li>
<li>提供 API 的網站（接收端）：<span class="exturl" data-url="aHR0cHM6Ly9yZXFyZXMuaW4v">Regres<i class="fa fa-external-link-alt"></i></span> 是一個提供 API 測試的網站</li>
<li>能夠發出 request 的工具：終端機</li>
</ol>
<h3 id="實戰演練"><a href="#實戰演練" class="headerlink" title="實戰演練"></a>實戰演練</h3><h3 id="Step1-實作一個-Client-端"><a href="#Step1-實作一個-Client-端" class="headerlink" title="Step1. 實作一個 Client 端"></a>Step1. 實作一個 Client 端</h3><p>與先前「實做一個 Client 端發送 request」操作方式相同，是利用 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JlcXVlc3QvcmVxdWVzdA==">library request<i class="fa fa-external-link-alt"></i></span> 來模擬瀏覽器發送 request 的過程。</p>
<ul>
<li>新增 index.js 並貼上官網提供的<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JlcXVlc3QvcmVxdWVzdCNzdXBlci1zaW1wbGUtdG8tdXNl">範本<i class="fa fa-external-link-alt"></i></span>：</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token string">"http://www.google.com"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"statusCode:"</span><span class="token punctuation">,</span> response <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"head:"</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"body:"</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Step2-串接-Regres-API"><a href="#Step2-串接-Regres-API" class="headerlink" title="Step2. 串接 Regres API"></a>Step2. 串接 <span class="exturl" data-url="aHR0cHM6Ly9yZXFyZXMuaW4vYXBpL3VzZXJz">Regres<i class="fa fa-external-link-alt"></i></span> API</h3><p>將範本中的 google 網址改成 <code>https://reqres.in/api/users</code></p>
<h3 id="Step3-用-node-js-運行"><a href="#Step3-用-node-js-運行" class="headerlink" title="Step3. 用 node.js 運行"></a>Step3. 用 node.js 運行</h3><p>在終端機輸入 <code>node index.js</code>，即可獲得 Regres API 所提供的資訊：</p>
<p><img src="https://i.imgur.com/DWirKxl.png" alt="運行"></p>
<p>這樣其實就完成了簡單的 API 串接！透過丟一個 request 到網站，我們能夠獲取想要的資訊。</p>
<h2 id="學會查看官方文件"><a href="#學會查看官方文件" class="headerlink" title="學會查看官方文件"></a>學會查看官方文件</h2><p>而透過 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JlcXVlc3QvcmVxdWVzdCNmb3Jtcw==">request 文件<i class="fa fa-external-link-alt"></i></span>，我們能找到不同的 <code>request.METHOD()</code>，瞭解如何使用各種方法：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Defaults to method<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">.</span>
request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Defaults to method<span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">.</span>
request<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Defaults to method<span class="token operator">:</span> <span class="token string">"PUT"</span><span class="token punctuation">.</span>
request<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Defaults to method<span class="token operator">:</span> <span class="token string">"PATCH"</span><span class="token punctuation">.</span>
request<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> request<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Defaults to method<span class="token operator">:</span> <span class="token string">"DELETE"</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="情境一：查詢不同使用者資料"><a href="#情境一：查詢不同使用者資料" class="headerlink" title="情境一：查詢不同使用者資料"></a>情境一：查詢不同使用者資料</h3><ul>
<li>Method：GET（預設方法）</li>
<li>url ：<code>https://reqres.in/api/users/&lt;userID&gt;</code></li>
<li>透過 <span class="exturl" data-url="aHR0cHM6Ly9yZXFyZXMuaW4v">Reqres 官網<i class="fa fa-external-link-alt"></i></span>可知，更改 「Request 網址結尾」可獲得不同使用者資訊，以 <code>/api/users/2</code> 為例：</li>
</ul>
<p>方法一：直接將網址改成 <code>https://reqres.in/api/users/2</code></p>
<p><img src="https://i.imgur.com/JiCCL5b.png" alt="id 2"></p>
<p>方法二：使用 node.js 內建 library <code>process</code></p>
<p>這個方法是利用 <code>process.argv</code> 達成帶入參數，我們可以先用 <code>console.log</code> 來查看 <code>process.argv</code> 是什麼：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> process <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"process"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="https://i.imgur.com/HrpOUWq.png" alt="array"></p>
<p>會發現 <code>process.argv</code> 其實是一個陣列，利用 <code>process.argv[2]</code> 就可以拿到我們需要的參數：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> process <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"process"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">request</span><span class="token punctuation">(</span>
  <span class="token string">"https://reqres.in/api/users/"</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"body:"</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>輸入 <code>node index.js 2</code>，就可獲得 <code>id: 2</code> 的使用者資料：</p>
<p><img src="https://i.imgur.com/dRHS9rO.png" alt="node index.js 2"></p>
<h3 id="情境二：新增使用者資料"><a href="#情境二：新增使用者資料" class="headerlink" title="情境二：新增使用者資料"></a>情境二：新增使用者資料</h3><ul>
<li>method：POST</li>
<li>url ：<code>https://reqres.in/api/users/</code></li>
<li>到 request library 的 Github 頁面，<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JlcXVlc3QvcmVxdWVzdCNmb3Jtcw==">點選 forms<i class="fa fa-external-link-alt"></i></span>，填入相關程式碼來新增資料至 reqres</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
  <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token string">"https://reqres.in/api/users"</span><span class="token punctuation">,</span>
    form<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      name<span class="token operator">:</span> <span class="token string">"Heidi"</span><span class="token punctuation">,</span>
      job<span class="token operator">:</span> <span class="token string">"web engineer"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 轉成 JS 物件</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>成功新增使用者資料：</p>
<blockquote>
<p>註：這裡的操作只是測試用，並不會真的新增資料到網站。</p>
</blockquote>
<p><img src="https://i.imgur.com/SOHZu0h.png" alt="新增使用者資料"></p>
<h3 id="情境三：刪除使用者資料"><a href="#情境三：刪除使用者資料" class="headerlink" title="情境三：刪除使用者資料"></a>情境三：刪除使用者資料</h3><ul>
<li>method：DELETE</li>
<li>url ：<code>https://reqres.in/api/users/&lt;userID&gt;</code></li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>
  <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://reqres.in/api/users/2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// 將使用者 id 帶入</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// console.log(JSON.parse(body));</span>
    <span class="token comment">// 因為是刪除，所以不會回傳東西，因此轉印狀態碼</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"status code:"</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>回傳 <code>204</code>，代表成功刪除使用者資料：</p>
<p><img src="https://i.imgur.com/JHOyAUo.png" alt="delete"></p>
<h3 id="情境四：修改使用者資料"><a href="#情境四：修改使用者資料" class="headerlink" title="情境四：修改使用者資料"></a>情境四：修改使用者資料</h3><ul>
<li>method ：PATCH</li>
<li>url ：<code>https://reqres.in/api/users/&lt;userID&gt;</code></li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span>
  <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://reqres.in/api/users/2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    form<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 傳入要修改的資料</span>
      name<span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>成功修改使用者資料：</p>
<p><img src="https://i.imgur.com/HXbVmTk.png" alt="patch"></p>
<h3 id="綜合應用"><a href="#綜合應用" class="headerlink" title="綜合應用"></a>綜合應用</h3><p>Base URL: <span class="exturl" data-url="aHR0cHM6Ly9saWRlbXktYm9vay1zdG9yZS5oZXJva3VhcHAuY29tLw==">https://lidemy-book-store.herokuapp.com<i class="fa fa-external-link-alt"></i></span></p>
<table>
<thead>
<tr>
<th>說明</th>
<th>Method</th>
<th>path</th>
<th>參數</th>
<th>範例</th>
</tr>
</thead>
<tbody><tr>
<td>獲取所有書籍</td>
<td>GET</td>
<td>/restaurants</td>
<td>_limit:限制回傳資料數量</td>
<td>/restaurant?_limit=6</td>
</tr>
<tr>
<td>獲取單一書籍</td>
<td>GET</td>
<td>/restaurants/:id</td>
<td>無</td>
<td>/restaurant/12</td>
</tr>
<tr>
<td>刪除書籍</td>
<td>DELETE</td>
<td>/restaurants/:id</td>
<td>無</td>
<td>無</td>
</tr>
<tr>
<td>新增書籍</td>
<td>POST</td>
<td>/restaurants</td>
<td>name: 書籍名稱</td>
<td>無</td>
</tr>
<tr>
<td>更改書籍</td>
<td>PATCH</td>
<td>/restaurants/:id</td>
<td>name: 書籍名稱</td>
<td>無</td>
</tr>
</tbody></table>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">API_ENDPOINT</span> <span class="token operator">=</span> <span class="token string">"https://lidemy-book-store.herokuapp.com"</span><span class="token punctuation">;</span>

<span class="token function">request</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token constant">API_ENDPOINT</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/books?_limit=10</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 判斷 status code 是否為 2 開頭：偵測回傳是否成功</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> books <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token comment">// try catch：偵測處理資料這個動作是否出現錯誤</span>
    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
      books <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 列出前十筆資料</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> books<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 若 response 不是一個合法的 JSON 字串，會回傳錯誤</span>
      <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="補充：如何在請求帶入資料"><a href="#補充：如何在請求帶入資料" class="headerlink" title="補充：如何在請求帶入資料"></a>補充：如何在請求帶入資料</h3><p>在發出 request 時，我們其實能透過兩種方式來帶入資料：</p>
<ol>
<li>Request header：把資料放入 header<ul>
<li>通常會放層級較高、具有機密性的資料，例如身分驗證</li>
</ul>
</li>
<li>Query-string parameter：把資訊放在網址列結尾<ul>
<li>由結尾的問號開始，是 KEY / Value 的組合</li>
</ul>
</li>
</ol>
<p>實際例子可參考<span class="exturl" data-url="aHR0cHM6Ly9kZXYudHdpdGNoLnR2L2RvY3MvdjU=">Twitch API v5<i class="fa fa-external-link-alt"></i></span> 文件，同樣支援這兩種方法：</p>
<ol>
<li>Request header (<code>Client-ID: XXXXX</code>)</li>
<li>Query-string parameter<br>(<code>https://api.twitch.tv/kraken/users/44322889?client_id=XXXXX</code>)</li>
</ol>
<p>因此在串接之前，必須先確認該 API 支援哪種方式來發出請求。</p>
<hr>
<h2 id="資料格式-XML-amp-JSON"><a href="#資料格式-XML-amp-JSON" class="headerlink" title="資料格式 XML &amp; JSON"></a>資料格式 XML &amp; JSON</h2><p>在 API 實戰中的 response 資料其實就是「JSON 格式字串」。在談到如何整理資訊之前，先來介紹常用的資料格式：</p>
<h3 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h3><ul>
<li>全名為 Extensible Markup Language，中文為「可延伸標記式語言」</li>
<li>和 HTML 非常類似，均屬於 Markup Language（標記語言），內容用<code>前後標籤</code>包起來。<ul>
<li>例如：<code>&lt;firstName&gt;John&lt;/firstName&gt;</code></li>
</ul>
</li>
<li>缺點是檔案較大、不易閱讀，因此現代開發較少使用</li>
</ul>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><ul>
<li>全名為 JavaScript Object Notation，中文為「JavaScript 物件表示法」</li>
<li>為現代最普遍、常用的資料格式</li>
<li>格式容易理解，且相容性高，許多程式均支援讀取或修改</li>
<li>資料格式看似 JavaScript 物件，但需注意以下幾點：<ol>
<li>回傳值的型態是「字串」</li>
<li><code>key</code> 值要用雙引號 <code>&quot;key&quot;</code> 包起來</li>
<li>支援許多資料格式：<code>[array]</code>、<code>&#123;object&#125;</code> 等；但 <code>value 值</code> 不能放 function</li>
<li>整個 JSON 格式字串不能使用註解</li>
</ol>
</li>
<li>相關函式<ol>
<li><code>JSON.prase(&lt;JSON&gt;)</code>：將 JSON 格式字串轉成物件</li>
<li><code>JSON.stringify(&lt;object&gt;)</code>：將物件轉成 JSON 格式字串</li>
</ol>
</li>
</ul>
<p>參考資料：</p>
<ol>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnd1LWJveS5jb20vMjAxMS8wNC8lRTQlQkQlQTAlRTQlQjglOEQlRTUlOEYlQUYlRTQlQjglOEQlRTclOUYlQTUlRTclOUElODQtanNvbi0lRTUlOUYlQkElRTYlOUMlQUMlRTQlQkIlOEIlRTclQjQlQjkv">你不可不知的 JSON 基本介紹<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9qc29uZWRpdG9yb25saW5lLm9yZy8=">JSON Editor online<i class="fa fa-external-link-alt"></i></span>：可將得到的資料轉成 JSON 格式</li>
</ol>
<h3 id="實際來處理-JSON-格式字串"><a href="#實際來處理-JSON-格式字串" class="headerlink" title="實際來處理 JSON 格式字串"></a>實際來處理 JSON 格式字串</h3><p>同樣以串接 Reqres API 為例。得到 response 就是「JSON 格式的字串」，但這種資料並不易閱讀，也無法直接使用。</p>
<p>因此使用內建函式 <code>JSON.parse()</code> 做處理，就會轉成「JS 物件」：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">request</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://reqres.in/api/users/2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"原始格式，JSON 格式的字串----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"轉成 JS 物件--------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://i.imgur.com/rxiOXN2.png" alt="json"></p>
<p>如此就可以「物件」方式來取出想要的資料：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">request</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://reqres.in/api/users/2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// JSON 物件</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>data<span class="token punctuation">.</span>first_name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 印出 Janet</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>反之，若想把「JS 物件」轉成「JSON 格式字串」，可以用： <code>JSON.stringify(&lt;object&gt;)</code></p>
<hr>
<h2 id="必學指令-curl"><a href="#必學指令-curl" class="headerlink" title="必學指令 curl"></a>必學指令 <code>curl</code></h2><blockquote>
<p>在 <span class="exturl" data-url="aHR0cHM6Ly9jdXJsLmhheHguc2Uv">curl 官網<i class="fa fa-external-link-alt"></i></span>下載，安裝方法可參考 <span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDE4NTkyMw==">Day14 - cURL 工具<i class="fa fa-external-link-alt"></i></span>，即可在終端機使用。</p>
</blockquote>
<p>curl 做法非常簡單，只要在終端機輸入指令就可支援發 HTTP request 、下載及上傳檔案的功能，基本格式為：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">curl <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">URL</span><span class="token operator">...</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="預設是-GET-方法"><a href="#預設是-GET-方法" class="headerlink" title="預設是 GET 方法"></a>預設是 <code>GET</code> 方法</h3><p>以使用 curl 能夠發 request 　到 google 首頁為例：</p>
<ul>
<li>輸入 <code>crul &#39;http://www.google.com&#39;</code>：即可下載該網頁程式碼</li>
<li>或輸入 <code>crul &#39;網址&#39; &gt; google.html</code>：可將回傳值導向其他檔案</li>
</ul>
<p><img src="https://i.imgur.com/RbyGVvV.png"></p>
<p>參考資料：</p>
<ol>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLjUxY3RvLmNvbS9kb2lpZG8vMTU2NDYzMQ==">linux 指令 curl 指令详解<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnRlY2hicmlkZ2UuY2MvMjAxOS8wMi8wMS9saW51eC1jdXJsLWNvbW1hbmQtdHV0b3JpYWwv">Linux Curl Command 指令與基本操作入門教學<i class="fa fa-external-link-alt"></i></span></li>
</ol>
<hr>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HTTP/" rel="tag"># HTTP</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/eslint/" rel="prev" title="[week 3] 設定 ESLint：用來檢查語法的工具">
      <i class="fa fa-chevron-left"></i> [week 3] 設定 ESLint：用來檢查語法的工具
    </a></div>
      <div class="post-nav-item">
    <a href="/review/" rel="next" title="[week 5] 複習週 - 前四週學習與解題心得">
      [week 5] 複習週 - 前四週學習與解題心得 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
          <div style="">
            
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

          </div>
        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F"><span class="nav-number">2.</span> <span class="nav-text">HTTP 是什麼？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%82%BA%E4%BB%80%E9%BA%BC%E6%88%91%E5%80%91%E9%9C%80%E8%A6%81-Protocol%EF%BC%88%E5%8D%94%E5%AE%9A%EF%BC%89%EF%BC%9F"><span class="nav-number">2.1.</span> <span class="nav-text">為什麼我們需要 Protocol（協定）？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Client-amp-Server"><span class="nav-number">3.</span> <span class="nav-text">Client &amp; Server</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%91%E5%80%91%E5%A6%82%E4%BD%95%E7%9C%8B%E5%88%B0%E7%B6%B2%E9%A0%81%E7%9A%84%E7%95%AB%E9%9D%A2%EF%BC%9F"><span class="nav-number">3.1.</span> <span class="nav-text">我們如何看到網頁的畫面？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%B5%B1"><span class="nav-number">4.</span> <span class="nav-text">DNS 域名系統</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A5%E6%9F%A5%E8%A9%A2%E5%9C%B0%E5%9D%80%E7%82%BA%E4%BE%8B"><span class="nav-number">4.1.</span> <span class="nav-text">以查詢地址為例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A5-GitHub-%E7%B6%B2%E7%AB%99%E7%82%BA%E4%BE%8B"><span class="nav-number">4.2.</span> <span class="nav-text">以 GitHub 網站為例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nslookup-%E6%8C%87%E4%BB%A4"><span class="nav-number">4.3.</span> <span class="nav-text">nslookup 指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%80%8F%E8%A6%BD%E5%99%A8%E5%8F%AA%E6%98%AF%E4%B8%80%E5%80%8B%E7%A8%8B%E5%BC%8F"><span class="nav-number">5.</span> <span class="nav-text">瀏覽器只是一個程式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%A6%E5%81%9A%E4%B8%80%E5%80%8B-Client-%E7%AB%AF%E7%99%BC%E9%80%81-request"><span class="nav-number">5.1.</span> <span class="nav-text">實做一個 Client 端發送 request</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-Request-Method-%E8%AB%8B%E6%B1%82%E6%96%B9%E6%B3%95"><span class="nav-number">6.</span> <span class="nav-text">HTTP Request Method 請求方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CRUD-%E5%8E%9F%E5%89%87"><span class="nav-number">6.1.</span> <span class="nav-text">CRUD 原則</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RESTful"><span class="nav-number">6.2.</span> <span class="nav-text">RESTful</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GET-amp-POST-%E8%AB%8B%E6%B1%82%E7%9A%84%E5%8D%80%E5%88%A5"><span class="nav-number">6.3.</span> <span class="nav-text">GET &amp; POST 請求的區別</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GET%EF%BC%9A%E5%90%91%E6%8C%87%E5%AE%9A%E7%9A%84%E8%B3%87%E6%BA%90%E8%A6%81%E6%B1%82%E8%B3%87%E6%96%99%EF%BC%8C%E9%A1%9E%E4%BC%BC%E6%96%BC%E6%9F%A5%E8%A9%A2%E6%93%8D%E4%BD%9C%E3%80%82"><span class="nav-number">6.3.1.</span> <span class="nav-text">GET：向指定的資源要求資料，類似於查詢操作。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#POST%EF%BC%9A%E5%B0%87%E8%A6%81%E8%99%95%E7%90%86%E7%9A%84%E8%B3%87%E6%96%99%E6%8F%90%E4%BA%A4%E7%B5%A6%E6%8C%87%E5%AE%9A%E7%9A%84%E8%B3%87%E6%BA%90%EF%BC%8C%E9%A1%9E%E4%BC%BC%E6%96%BC%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C%E3%80%82"><span class="nav-number">6.3.2.</span> <span class="nav-text">POST：將要處理的資料提交給指定的資源，類似於更新操作。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-Status-Code-%E7%8B%80%E6%85%8B%E7%A2%BC"><span class="nav-number">6.4.</span> <span class="nav-text">HTTP Status Code 狀態碼</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1xx%EF%BC%9A%E8%A8%8A%E6%81%AF%EF%BC%88%E8%BC%83%E5%B0%91%E8%A6%8B%EF%BC%89"><span class="nav-number">6.4.1.</span> <span class="nav-text">1xx：訊息（較少見）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2xx%EF%BC%9ASuccess-%E6%88%90%E5%8A%9F"><span class="nav-number">6.4.2.</span> <span class="nav-text">2xx：Success 成功</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3xx%EF%BC%9ARedirect-%E9%87%8D%E6%96%B0%E5%B0%8E%E5%90%91"><span class="nav-number">6.4.3.</span> <span class="nav-text">3xx：Redirect 重新導向</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4xx%EF%BC%9AUser-error-%E5%AE%A2%E6%88%B6%E7%AB%AF%E9%8C%AF%E8%AA%A4"><span class="nav-number">6.4.4.</span> <span class="nav-text">4xx：User error 客戶端錯誤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5xx%EF%BC%9AServer-error-%E4%BC%BA%E6%9C%8D%E5%99%A8%E7%AB%AF%E9%8C%AF%E8%AA%A4"><span class="nav-number">6.4.5.</span> <span class="nav-text">5xx：Server error 伺服器端錯誤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%A6%E4%BD%9C%E4%B8%80%E5%80%8B%E7%B0%A1%E6%98%93-HTTP-Server-%E7%AB%AF"><span class="nav-number">6.5.</span> <span class="nav-text">實作一個簡易 HTTP Server 端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BA%E8%AB%87-TCP-IP"><span class="nav-number">7.</span> <span class="nav-text">淺談 TCP&#x2F;IP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B6%B2%E8%B7%AF%E7%9A%84%E5%B1%A4%E7%B4%9A"><span class="nav-number">7.1.</span> <span class="nav-text">網路的層級</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSI-%E4%B8%83%E5%B1%A4%E5%8D%94%E5%AE%9A"><span class="nav-number">7.2.</span> <span class="nav-text">OSI 七層協定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-IP-%E5%9B%9B%E5%B1%A4%E6%A8%A1%E5%9E%8B"><span class="nav-number">7.3.</span> <span class="nav-text">TCP&#x2F;IP 四層模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B6%B2%E8%B7%AF%E5%B1%A4-IP-%E5%9C%B0%E5%9D%80"><span class="nav-number">8.</span> <span class="nav-text">網路層 - IP 地址</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%84%E7%A8%AE-IP"><span class="nav-number">8.1.</span> <span class="nav-text">各種 IP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Port-%E9%80%A3%E6%8E%A5%E5%9F%A0%EF%BC%88%E7%AB%AF%E5%8F%A3%EF%BC%89"><span class="nav-number">9.</span> <span class="nav-text">Port 連接埠（端口）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%82%B3%E8%BC%B8%E5%B1%A4-TCP-amp-UDP"><span class="nav-number">10.</span> <span class="nav-text">傳輸層 - TCP &amp; UDP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP"><span class="nav-number">10.1.</span> <span class="nav-text">TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP"><span class="nav-number">10.2.</span> <span class="nav-text">UDP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%B5%90-%E5%BE%9E%E5%82%B3%E7%B4%99%E6%A2%9D%E6%A6%82%E5%BF%B5%E7%9C%8B-TCP-IP"><span class="nav-number">11.</span> <span class="nav-text">小結 - 從傳紙條概念看 TCP&#x2F;IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BA%E8%AB%87-API"><span class="nav-number">12.</span> <span class="nav-text">淺談 API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%80%8C%E5%B0%8D%E6%96%BC%E7%B6%B2%E9%A0%81%E4%BE%86%E8%AA%AA%E5%B0%B1%E6%98%AF-Web-API"><span class="nav-number">12.1.</span> <span class="nav-text">而對於網頁來說就是 Web API</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%A6%E9%9A%9B%E4%B8%B2%E6%8E%A5-API"><span class="nav-number">13.</span> <span class="nav-text">實際串接 API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%B2%E6%8E%A5%E7%9A%84%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD"><span class="nav-number">13.1.</span> <span class="nav-text">串接的前置作業</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%A6%E6%88%B0%E6%BC%94%E7%B7%B4"><span class="nav-number">13.2.</span> <span class="nav-text">實戰演練</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Step1-%E5%AF%A6%E4%BD%9C%E4%B8%80%E5%80%8B-Client-%E7%AB%AF"><span class="nav-number">13.3.</span> <span class="nav-text">Step1. 實作一個 Client 端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Step2-%E4%B8%B2%E6%8E%A5-Regres-API"><span class="nav-number">13.4.</span> <span class="nav-text">Step2. 串接 Regres API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Step3-%E7%94%A8-node-js-%E9%81%8B%E8%A1%8C"><span class="nav-number">13.5.</span> <span class="nav-text">Step3. 用 node.js 運行</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%B8%E6%9C%83%E6%9F%A5%E7%9C%8B%E5%AE%98%E6%96%B9%E6%96%87%E4%BB%B6"><span class="nav-number">14.</span> <span class="nav-text">學會查看官方文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%A2%83%E4%B8%80%EF%BC%9A%E6%9F%A5%E8%A9%A2%E4%B8%8D%E5%90%8C%E4%BD%BF%E7%94%A8%E8%80%85%E8%B3%87%E6%96%99"><span class="nav-number">14.1.</span> <span class="nav-text">情境一：查詢不同使用者資料</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%A2%83%E4%BA%8C%EF%BC%9A%E6%96%B0%E5%A2%9E%E4%BD%BF%E7%94%A8%E8%80%85%E8%B3%87%E6%96%99"><span class="nav-number">14.2.</span> <span class="nav-text">情境二：新增使用者資料</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%A2%83%E4%B8%89%EF%BC%9A%E5%88%AA%E9%99%A4%E4%BD%BF%E7%94%A8%E8%80%85%E8%B3%87%E6%96%99"><span class="nav-number">14.3.</span> <span class="nav-text">情境三：刪除使用者資料</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%A2%83%E5%9B%9B%EF%BC%9A%E4%BF%AE%E6%94%B9%E4%BD%BF%E7%94%A8%E8%80%85%E8%B3%87%E6%96%99"><span class="nav-number">14.4.</span> <span class="nav-text">情境四：修改使用者資料</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B6%9C%E5%90%88%E6%87%89%E7%94%A8"><span class="nav-number">14.5.</span> <span class="nav-text">綜合應用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%9C%E5%85%85%EF%BC%9A%E5%A6%82%E4%BD%95%E5%9C%A8%E8%AB%8B%E6%B1%82%E5%B8%B6%E5%85%A5%E8%B3%87%E6%96%99"><span class="nav-number">14.6.</span> <span class="nav-text">補充：如何在請求帶入資料</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B3%87%E6%96%99%E6%A0%BC%E5%BC%8F-XML-amp-JSON"><span class="nav-number">15.</span> <span class="nav-text">資料格式 XML &amp; JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XML"><span class="nav-number">15.1.</span> <span class="nav-text">XML</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSON"><span class="nav-number">15.2.</span> <span class="nav-text">JSON</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%A6%E9%9A%9B%E4%BE%86%E8%99%95%E7%90%86-JSON-%E6%A0%BC%E5%BC%8F%E5%AD%97%E4%B8%B2"><span class="nav-number">15.3.</span> <span class="nav-text">實際來處理 JSON 格式字串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BF%85%E5%AD%B8%E6%8C%87%E4%BB%A4-curl"><span class="nav-number">16.</span> <span class="nav-text">必學指令 curl</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A0%90%E8%A8%AD%E6%98%AF-GET-%E6%96%B9%E6%B3%95"><span class="nav-number">16.1.</span> <span class="nav-text">預設是 GET 方法</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Heidi Liu"
      src="https://avatars3.githubusercontent.com/u/65410665?s=460&u=887bd602944dcf78b90f3a880b03aec4e086728a&v=4">
  <p class="site-author-name" itemprop="name">Heidi Liu</p>
  <div class="site-description" itemprop="description">海底修羅場｜日々進化中</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">75</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hlaWRpbGl1MjAyMA==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;heidiliu2020"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9oZWlkaS1jb2RpbmcubWVkaXVtLmNvbS8=" title="Medium → https:&#x2F;&#x2F;heidi-coding.medium.com&#x2F;"><i class="fab fa-medium fa-fw"></i>Medium</span>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Heidi Liu</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Gemini</span> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='220,220,220' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

<script>
  var disqus_config = function() {
    this.page.url = "https://heidiliu2020.github.io/http-api/";
    this.page.identifier = "http-api/";
    this.page.title = "[week 4] 網路基礎概論 - HTTP 協定、TCP/IP";
    this.language = "zh_TW"; 
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://heidiblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

    </div>
</body>
</html>
