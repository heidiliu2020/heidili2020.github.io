<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4274798044223706"
      crossorigin="anonymous"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/apple-icon.png" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<script data-ad-client="ca-pub-4274798044223706" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4274798044223706"
  crossorigin="anonymous"></script>

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"heidiliu2020.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":true,"sidebar":{"position":"right","Pisces | Gemini":200,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null,"activeClass":"disqus"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6F0SL2XTQY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6F0SL2XTQY');
</script>

  <meta name="description" content="hw1：Event Loop hw2：Event Loop + Scope hw3：Hoisting hw4：What is this?">
<meta property="og:type" content="article">
<meta property="og:title" content="[week 16] JavaScript 進階 - 作業練習">
<meta property="og:url" content="https://heidiliu2020.github.io/js201-hw/index.html">
<meta property="og:site_name" content="前端新米">
<meta property="og:description" content="hw1：Event Loop hw2：Event Loop + Scope hw3：Hoisting hw4：What is this?">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2020-10-24T16:30:00.000Z">
<meta property="article:modified_time" content="2020-12-27T16:12:22.040Z">
<meta property="article:author" content="Heidi Liu">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://heidiliu2020.github.io/js201-hw/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>[week 16] JavaScript 進階 - 作業練習 | 前端新米</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6F0SL2XTQY"></script>
    <script data-pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6F0SL2XTQY');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">前端新米</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Heidi's Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-首頁">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-文章分類">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>文章分類</a>

  </li>
        <li class="menu-item menu-item-文章列表">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章列表</a>

  </li>
        <li class="menu-item menu-item-關於我">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>關於我</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://heidiliu2020.github.io/js201-hw/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/65410665?s=460&u=887bd602944dcf78b90f3a880b03aec4e086728a&v=4">
      <meta itemprop="name" content="Heidi Liu">
      <meta itemprop="description" content="海底修羅場｜日々進化中">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端新米">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [week 16] JavaScript 進階 - 作業練習
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-10-25 00:30:00" itemprop="dateCreated datePublished" datetime="2020-10-25T00:30:00+08:00">2020-10-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2020-12-28 00:12:22" itemprop="dateModified" datetime="2020-12-28T00:12:22+08:00">2020-12-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>9.3k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>8 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ul>
<li>hw1：Event Loop</li>
<li>hw2：Event Loop + Scope</li>
<li>hw3：Hoisting</li>
<li>hw4：What is this?<span id="more"></span>

</li>
</ul>
<h2 id="hw1：Event-Loop"><a href="#hw1：Event-Loop" class="headerlink" title="hw1：Event Loop"></a>hw1：Event Loop</h2><p>在 JavaScript 裡面，一個很重要的概念就是 Event Loop，是 JavaScript 底層在執行程式碼時的運作方式。請你說明以下程式碼會輸出什麼，以及盡可能詳細地解釋原因。</p>
<pre class="line-numbers language-none"><code class="language-none">console.log(1)
setTimeout(() &#x3D;&gt; &#123;
  console.log(2)
&#125;, 0)
console.log(3)
setTimeout(() &#x3D;&gt; &#123;
  console.log(4)
&#125;, 0)
console.log(5)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="輸出結果"><a href="#輸出結果" class="headerlink" title="輸出結果"></a>輸出結果</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token number">1</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">2</span>
<span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="執行流程"><a href="#執行流程" class="headerlink" title="執行流程"></a>執行流程</h3><ol>
<li>將 <code>console.log(1)</code> 放入 Call Stack 並直接執行，印出 1，執行結束後移除</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(2) &#125;, 0)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 0，直到倒數結束，將 <code>() =&gt; &#123; console.log(2) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>將 <code>console.log(3)</code> 放入 Call Stack 並直接執行，印出 3，執行結束後移除</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(4) &#125;, 0)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 0，直到倒數結束，將 <code>() =&gt; &#123; console.log(4) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>將 <code>console.log(5)</code> 放入 Call Stack 並直接執行，印出 5，執行結束後移除</li>
<li>當 Event Loop 偵測到 call stack 為空時，依序將 Callback Queue 的任務丟到 Call Stack 執行</li>
<li>執行 <code>() =&gt; &#123; console.log(2) &#125;</code>，再執行 <code>console.log(2)</code>，印出 2，執行結束後移除</li>
<li>接著執行 <code>() =&gt; &#123; console.log(4) &#125;</code>，再執行 <code>console.log(4)</code>，印出 4，執行結束後移除</li>
</ol>
<hr>
<h2 id="hw2：Event-Loop-Scope"><a href="#hw2：Event-Loop-Scope" class="headerlink" title="hw2：Event Loop + Scope"></a>hw2：Event Loop + Scope</h2><p>請說明以下程式碼會輸出什麼，以及盡可能詳細地解釋原因。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i: '</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="輸出結果-1"><a href="#輸出結果-1" class="headerlink" title="輸出結果"></a>輸出結果</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">i<span class="token operator">:</span> <span class="token number">0</span>
i<span class="token operator">:</span> <span class="token number">1</span>
i<span class="token operator">:</span> <span class="token number">2</span>
i<span class="token operator">:</span> <span class="token number">3</span>
i<span class="token operator">:</span> <span class="token number">4</span>
<span class="token number">5</span>
<span class="token number">5</span>
<span class="token number">5</span>
<span class="token number">5</span>
<span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="執行流程-1"><a href="#執行流程-1" class="headerlink" title="執行流程"></a>執行流程</h3><ol>
<li>將 for 迴圈放入 Call Stack 並開始執行，宣告變數 i = 0，判斷 i 是否小於 5，是，進入第一圈迴圈</li>
<li>將 <code>console.log(&#39;i: &#39; + 0)</code> 放入 Call Stack 並直接執行，印出 i: 0</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(0) &#125;, 0 * 1000)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 0 ms，直到倒數結束，將 <code>() =&gt; &#123; console.log(0) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>第一圈迴圈結束，將 i + 1</li>
<li>i = 1，判斷 i 是否小於 5，是，進入第二圈迴圈</li>
<li>將 <code>console.log(&#39;i: &#39; + 1)</code> 放入 Call Stack 並直接執行，印出 i: 1</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(i) &#125;, 1 * 1000)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 1000 ms ，直到倒數結束，將 <code>() =&gt; &#123; console.log(i) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>第二圈迴圈結束，將 i + 1</li>
<li>i = 2，判斷 i 是否小於 5，是，進入第二圈迴圈</li>
<li>將 <code>console.log(&#39;i: &#39; + 2)</code> 放入 Call Stack 並直接執行，印出 i: 2</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(i) &#125;, 2 * 1000)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 2000 ms ，直到倒數結束，將 <code>() =&gt; &#123; console.log(i) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>第二圈迴圈結束，將 i + 1</li>
<li>i = 3，判斷 i 是否小於 5，是，進入第三圈迴圈</li>
<li>將 <code>console.log(&#39;i: &#39; + 3)</code> 放入 Call Stack 並直接執行，印出 i: 3</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(i) &#125;, 3 * 1000)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 3000 ms ，直到倒數結束，將 <code>() =&gt; &#123; console.log(i) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>第三圈迴圈結束，將 i + 1</li>
<li>i = 4，判斷 i 是否小於 5，是，進入第四圈迴圈</li>
<li>將 <code>console.log(&#39;i: &#39; + 4)</code> 放入 Call Stack 並直接執行，印出 i: 4</li>
<li>將 <code>setTimeout(() =&gt; &#123; console.log(i) &#125;, 4 * 1000)</code> 放入 Call Stack，透過 Web API，在瀏覽器設定計時器為 4000 ms ，直到倒數結束，將 <code>() =&gt; &#123; console.log(i) &#125;</code> 放到 Callback Queue 等待執行，setTimeout 執行結束後從 Call Stack 移除</li>
<li>第四圈迴圈結束，將 i + 1</li>
<li>i = 5，判斷 i 是否小於 5，否，跳出迴圈，執行結束後從 Call Stack 移除</li>
<li>當 Event Loop 偵測到 call stack 為空時，依序將 Callback Queue 的任務丟到 Call Stack 執行</li>
<li>執行第一個 <code>() =&gt; &#123; console.log(i) &#125;</code>，再執行 <code>console.log(i)</code>，在 function 的 EC 中找不到 i，往上一層 EC 找，找到 i = 5，印出 5，執行結束從 Call Stack 移除</li>
<li>執行第二個 <code>() =&gt; &#123; console.log(i) &#125;</code>，再執行 <code>console.log(i)</code>，在 function 的 EC 中找不到 i，往上一層 EC 找，找到 i = 5，印出 5，執行結束從 Call Stack 移除</li>
<li>執行第三個 <code>() =&gt; &#123; console.log(i) &#125;</code>，再執行 <code>console.log(i)</code>，在 function 的 EC 中找不到 i，往上一層 EC 找，找到 i = 5，印出 5，執行結束從 Call Stack 移除</li>
<li>執行第四個 <code>() =&gt; &#123; console.log(i) &#125;</code>，再執行 <code>console.log(i)</code>，在 function 的 EC 中找不到 i，往上一層 EC 找，找到 i = 5，印出 5，執行結束從 Call Stack 移除</li>
<li>執行第五個 <code>() =&gt; &#123; console.log(i) &#125;</code>，再執行 <code>console.log(i)</code>，在 function 的 EC 中找不到 i，往上一層 EC 找，找到 i = 5，印出 5，執行結束從 Call Stack 移除</li>
</ol>
<hr>
<h2 id="hw3：Hoisting"><a href="#hw3：Hoisting" class="headerlink" title="hw3：Hoisting"></a>hw3：Hoisting</h2><p>請說明以下程式碼會輸出什麼，以及盡可能詳細地解釋原因。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment">// undefined</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">5</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment">// 5</span>
  a<span class="token operator">++</span>　
  <span class="token keyword">var</span> a
  <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>     <span class="token comment">// 6</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>     <span class="token comment">// 20 </span>
    a <span class="token operator">=</span> <span class="token number">20</span>
    b <span class="token operator">=</span> <span class="token number">100</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>     <span class="token comment">// 1</span>
a <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>     <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>     <span class="token comment">// 100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="輸出結果-2"><a href="#輸出結果-2" class="headerlink" title="輸出結果"></a>輸出結果</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">undefined</span>
<span class="token number">5</span>
<span class="token number">6</span>
<span class="token number">20</span>
<span class="token number">1</span>
<span class="token number">10</span>
<span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="執行流程-2"><a href="#執行流程-2" class="headerlink" title="執行流程"></a>執行流程</h3><ol>
<li>開始執行程式，建立 global EC 並初始化 VO</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">global <span class="token constant">EC</span>
  <span class="token constant">VO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li>執行第一行程式碼，宣告變數 a 並賦值為 1</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">global <span class="token constant">EC</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">VO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li>呼叫 fn()，建立 fn EC 並初始化 AO，變數宣告會提升 <code>var = a</code></li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">fn <span class="token constant">EC</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">AO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="4">
<li>進入 function fn 並執行 console.log(a)，找到 fn AO 中 a = undefined，印出 undefined</li>
<li>執行 var a = 5，查看 fn EC 是否有 a，找到 a，將 a 賦值為 5</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">fn <span class="token constant">EC</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">AO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="6">
<li>執行 console.log(a)，找到 fn AO 中 a = 5，印出 5</li>
<li>執行 a++，查看 fn EC 是否有 a，將 a 賦值為 6</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">fn <span class="token constant">EC</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">AO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token number">6</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="8">
<li>已經宣告過變數 a，忽略 <code>var a</code> </li>
<li>呼叫 fn2()，建立 fn EC 並初始化 AO</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">fn2 <span class="token constant">EC</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">AO</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 沒有進行任何宣告</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="10">
<li>進入 function fn2 並執行 console.log(a)，查看 fn2  AO 沒有找到 a；往上一層 fn AO 找，找到 a = 6，印出 6</li>
<li>執行 a = 20，在 fn2 AO 沒有找到 a；往上一層 fn AO 找，找到 a，並賦值 a 為 20</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">fn <span class="token constant">EC</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">AO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token number">20</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="12">
<li>執行 b = 100，在 fn2 AO 沒有找到 b；往上一層 fn AO 找，沒有找到 b；再往上一層 global VO 找，沒有找到 b。因為是在非嚴格模式執行程式碼，會在 global VO 宣告變數 b 並賦值為 100</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">global <span class="token constant">EC</span>
  <span class="token constant">VO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
    b<span class="token operator">:</span> <span class="token number">100</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="13">
<li>function fn2 執行結束，移除 fn2 EC，回到 fn EC 執行其餘程式碼</li>
<li>執行 console.log(a)，找到 fn AO 中 a = 20，印出 20</li>
<li>function fn 執行結束，移除 fn EC，回到 global EC 執行其餘程式碼</li>
<li>執行 console.log(a)，找到 global VO 中 a = 1，印出 1</li>
<li>執行 a = 10，查看 global EC 是否有 a，找到 a，將 a 賦值為 10</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">global <span class="token constant">EC</span>
  <span class="token constant">VO</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
    a<span class="token operator">:</span> <span class="token number">10</span>
    b<span class="token operator">:</span> <span class="token number">100</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="18">
<li>執行 console.log(a)，找到 global VO 中 a = 10，印出 10</li>
<li>執行 console.log(b)，找到 global VO 中 b = 100，印出 100</li>
</ol>
<hr>
<h2 id="hw4：What-is-this"><a href="#hw4：What-is-this" class="headerlink" title="hw4：What is this?"></a>hw4：What is this?</h2><p>請說明以下程式碼會輸出什麼，以及盡可能詳細地解釋原因。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function-variable function">hello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  inner<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    value<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token function-variable function">hello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
  
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> obj<span class="token punctuation">.</span>inner
<span class="token keyword">const</span> hello <span class="token operator">=</span> obj<span class="token punctuation">.</span>inner<span class="token punctuation">.</span>hello
obj<span class="token punctuation">.</span>inner<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 2</span>
obj2<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 2</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="輸出結果-3"><a href="#輸出結果-3" class="headerlink" title="輸出結果"></a>輸出結果</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token number">2</span>
<span class="token number">2</span>
<span class="token keyword">undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="執行流程-3"><a href="#執行流程-3" class="headerlink" title="執行流程"></a>執行流程</h3><ol>
<li><code>obj.inner.hello()</code></li>
</ol>
<p>可看成 <code>.call()</code> 的形式：<code>obj.inner.hello.call(obj.inner)</code>，this 會是傳入的參數，也就是 <code>obj.inner</code>，因此 <code>obj.inner.value</code> 得到的結果是 2。</p>
<ol start="2">
<li><code>obj2.hello()</code></li>
</ol>
<p>和上一題相同，可看成 <code>.call()</code> 的形式：<code>obj2.hello.call(obj2)</code>，this 就會是 <code>obj2</code>，又因 <code>obj2 = obj.inner</code>，因此結果同樣會是 2。</p>
<ol start="3">
<li><code>hello()</code></li>
</ol>
<p>在不需要的地方呼叫 this 時，this 會被指定為全域物件。依照執行環境不同，其值也會改變，例如在瀏覽器執行會是 Window，在 node.js 執行則是會是 Global。<br>若是在<code>&#39;use strict&#39;;</code>（嚴格模式）下執行，this 的值會是 undefined。</p>
<h2 id="這週學了一大堆以前搞不懂的東西，你有變得更懂了嗎？請寫下你的心得。"><a href="#這週學了一大堆以前搞不懂的東西，你有變得更懂了嗎？請寫下你的心得。" class="headerlink" title="這週學了一大堆以前搞不懂的東西，你有變得更懂了嗎？請寫下你的心得。"></a>這週學了一大堆以前搞不懂的東西，你有變得更懂了嗎？請寫下你的心得。</h2><h3 id="這週的學習筆記"><a href="#這週的學習筆記" class="headerlink" title="這週的學習筆記"></a>這週的學習筆記</h3><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQEhlaWRpLUxpdS9ub3RlLWpzMjAxLWRhdGEtdHlwZQ==">[week 16] JavaScript 進階 - 關於變數與資料型態<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQEhlaWRpLUxpdS9ub3RlLWpzMjAxLWhvaXN0aW5n">[week 16] JavaScript 進階 - 初探 Hoisting &amp; Execution Context<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQEhlaWRpLUxpdS9ub3RlLWphdmFzY3JpcHQtY2FsbGJhY2s=">[week 16] 淺談 JavaScript：同步與非同步 &amp; Callback Function &amp; Event Loop<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQEhlaWRpLUxpdS9ub3RlLWpzMjAxLWNsb3N1cmU=">[week 16] JavaScript 進階 - 什麼是閉包？探討 Closure &amp; Scope Chain<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQEhlaWRpLUxpdS9ub3RlLWpzMjAxLW9vcC1wcm90b3R5cGU=">[week 16] JavaScript 進階 - 物件導向 &amp; Prototype<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQEhlaWRpLUxpdS9ub3RlLWpzMjAxLXRoaXM=">[week 16] JavaScript 進階 - What is this？<i class="fa fa-external-link-alt"></i></span></li>
</ul>
<h3 id="學習心得"><a href="#學習心得" class="headerlink" title="學習心得"></a>學習心得</h3><p>這一週的知識量其實蠻大的，從複習 JavaScript 的變數與資料型態，等號賦值與記憶體位置等等，在第二週的課程也有提到相關概念，到了第十六週則是要去瞭解程式背後是如何運作的。</p>
<h4 id="Hoisting-amp-Execution-Contexts-amp-Variable-Object"><a href="#Hoisting-amp-Execution-Contexts-amp-Variable-Object" class="headerlink" title="Hoisting &amp; Execution Contexts &amp; Variable Object"></a>Hoisting &amp; Execution Contexts &amp; Variable Object</h4><p>從理解什麼是 Hoisting（提升），瞭解我們為什麼需要提升，再延伸到運作原理。過程中建立的 Execution Contexts（執行環境）、與之對應的 Variable Object（變數物件）等等，其實涉及到有關 JavaScript 的範圍非常廣。</p>
<p>除了課堂影片提到的內容，自己也上網查了許多有關執行環境、執行堆疊的資料，雖然花費不少時間，卻也藉由瞭解 JavaScript 的編譯與執行過程，從建立到執行階段，加深對整個架構的理解。</p>
<h4 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h4><p>在閱讀完 <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmh1bGkudHcvMjAxOS8xMC8wNC9qYXZhc2NyaXB0LWFzeW5jLXN5bmMtYW5kLWNhbGxiYWNrLw==">JavaScript 中的同步與非同步（上）：先成為 callback 大師吧！<i class="fa fa-external-link-alt"></i></span> 這篇文章，原本對 callback 概念薄弱的自己，對同步與非同步又有了新的一層認識。</p>
<p>尤其是才剛接著學完有關 Hoisting 的運作原理，在瞭解什麼是執行環境以後，再回來看 Event Loop 似乎也更能夠理解當中的執行流程。</p>
<p>也想到再次看到 Node.js 是 JavaScript 的 runtime（執行環境）這句話時，會想到 Execution Context 的中文也被翻成執行環境，但其實兩者指的對象不同。前者指的是「執行時系統」（run-time system）；後者指的是 JavaScript 在執行時會建立的環境，又可分為全域與函式執行環境。翻成中文的壞處就是容易撞名混淆，還是讓自己盡量去理解原文的意思。</p>
<h4 id="Closure-amp-Scope"><a href="#Closure-amp-Scope" class="headerlink" title="Closure &amp; Scope"></a>Closure &amp; Scope</h4><p>在學到 Closure（閉包）時，發現其實花了很多時間在瞭解有關 Scope（作用域）的概念。也是在這一單元瞭解到，原來之前在課程中學到的非同步操作，當中的 callback 其實就和閉包有關，有關 callback 的觀念真的非常重要，也難怪這些觀念會不斷在課程中被提到。</p>
<p>此外也瞭解到，閉包在框架中很常會使用到，透過閉包的方式，就能夠避免汙染全域變數或是記憶體洩漏等問題。</p>
<p>一開始之所以沒辦法很快理解，或許就是沒有把這些觀念融會貫通，都是一個環節接著另一個環節，就和 Scope Chain 一樣，會需要往上一層去找出需要的拼圖。</p>
<h4 id="物件導向-amp-prototype"><a href="#物件導向-amp-prototype" class="headerlink" title="物件導向 &amp; prototype"></a>物件導向 &amp; prototype</h4><p>其實在學習 JavsScript 之前，一直以為物件導向和 this 是能夠畫上等號的（三個的那種）。直到實際學到物件導向以後，才瞭解到物件導向中有許多觀念，其實和在之前學到的 Hoisting、Closure 有很大的關聯。此外，物件導向其實應用在許多現代的程式語言，以物件導向的方式進行開發。</p>
<p>物件導向程式的寫法，基本上可分為三部分：</p>
<ol>
<li>定義物件類別（class）。例如：<code>class Dog</code></li>
<li>定義物件類別中的屬性與方法。例如：可使用 <code>dog.name</code> 存取屬性，使用 <code>dog.sayHello()</code> 存取方法</li>
<li>定義物件之間的行為，也就是主程式</li>
</ol>
<p>之所以需要物件導向，最重要的目的就是把資料（屬性）與函式（方法）結合在一起，定義出物件模型，這麼做有幾個優點：</p>
<ul>
<li>便於重複使用程式碼</li>
<li>能夠隱藏程式內部資訊</li>
<li>透過模組化來簡化主程式邏輯</li>
</ul>
<p>而這些概念，其實也就是先前談到有關物件導向的三大特性，並且三者具有次序性，沒有封裝就不可能有繼承、沒有繼承就不可能有多型：</p>
<ul>
<li>封裝（Encapsulation）：<ul>
<li>藉由把程式包成類別，能夠隱藏物件內容</li>
<li>避免程式間互相干擾，也利於後續維護</li>
</ul>
</li>
<li>繼承（Inheritance）：<ul>
<li>子層能夠繼承使用父層的屬性和方法，並且加以微調</li>
<li>能夠重複使用程式碼</li>
</ul>
</li>
<li>多型（Polymorphism）：<ul>
<li>父層可透過子層衍伸成多種型態，接著子層可藉由覆寫父層的方法來達到多型</li>
<li>可增加程式架構的彈性與維護性</li>
</ul>
</li>
</ul>
<p>藉由瞭解什麼是物件導向，為什麼需要物件導向以後，對整體架構似乎又更加清楚一些。過程中也查了許多資料，在碰到新的名詞時總會感到慌張，像是 constructor（建構子）、prototype（原型）、instance（實例）等等，其實只要能夠先瞭解定義是什麼，就不難繼續理解整體架構。</p>
<p>最後，在找相關資料的時候，有在這篇<span class="exturl" data-url="aHR0cHM6Ly9pZ291aXN0LmdpdGh1Yi5pby9wb3N0LzIwMjAvMDcvb28tNS1wb2x5bW9ycGhpc20v">網誌<i class="fa fa-external-link-alt"></i></span>中，看到使用泡麵的例子來比喻物件導向，因為還蠻喜歡的也記錄在這裡：</p>
<ol>
<li>由泡麵工廠製作麵和醬包，並包裝在一起，我們可以直接買來享用</li>
<li>我們可以在泡麵中自己加料，或是不用泡的改用炒的</li>
<li>同樣都是泡麵，卻能夠實作出不同的口味</li>
</ol>
<h4 id="What-is-this？"><a href="#What-is-this？" class="headerlink" title="What is this？"></a>What is this？</h4><p>瞭解到物件導向的相關概念後，接著要理解 this 是什麼就沒那麼困難了。或許是因為在實際學 JacaScript 以前，就預設 this 是很難是高手在用的東西，透過慢慢理解物件導向與 this 的關聯，以及如何判斷 this 的值，似乎也感覺到自己的進化，對於未知的恐懼總是需要克服的。</p>
<p>關於 this 的重點，就是記得 this 的值和程式碼在哪無關，而是和怎麼呼叫有關係。</p>
<p>總結前面提到的觀念，其實 this 大致可分成四種綁定方式：</p>
<ul>
<li>默認綁定</li>
</ul>
<p>在和物件導向無關的情況下，this 會被指定為全域物件。又依照執行環境不同，其值會是 global 或 window，而在嚴格模式下會是 undefined：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Window </span>
<span class="token punctuation">&#125;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>隱式綁定</li>
</ul>
<p>若在 function 中， this 有被某物件指定為屬性並呼叫，this 就是呼叫 function 的物件。以下方範例來說 this 就是 obj：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  a<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  test<span class="token operator">:</span> func
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>顯示綁定</li>
</ul>
<p>若是透過 <code>.call()</code>、<code>.apply()</code> 或 <code>.bind()</code> 方式指定 this，this 就會是傳入的參數：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  a<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

<span class="token comment">// 第一種寫法：直接呼叫 function</span>
obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第二種寫法：先宣告，再呼叫</span>
<span class="token keyword">const</span> bindTest <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bindTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token comment">// 均印出: &#123; a: 10, test: [Function: test] &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>new 綁定</li>
</ul>
<p>透過建構函式 new 出一個 instance，this 就會是 instance 物件本身：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// Dog &#123;name: "dog A"&#125;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// dog A</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'dog A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>例外：箭頭函式中的 this 是看程式碼定義在哪，和怎麼呼叫沒關係。</li>
</ul>
<h4 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h4><p>終於學到傳說中的物件導向，以及面對 JavaScript 中的大魔王 this。還記得在開始程式導師計畫之前，有在 Udemy 買過 JavaScript: Understanding the Weird Parts（中譯：JavaScript 全攻略：克服 JS 的奇怪部分）這堂課，但其實那時候也沒看多少，現在想想當初連基礎都還沒打穩，難怪會不知道自己在聽什麼XD。上網查過資料會發現蠻多類似的標題，不外乎是「你所不知道的 JS」、「其實 JS 跟你想的不一樣」等等，所以 JavaScript 到底是怪在哪？！在學完 JavaScript 基礎之後，還只是理解這個程式語言的皮毛而已。</p>
<p>把這一週的筆記整理完，寫作業的時候也感覺踏實多了，總算是釐清  Event Loop、Hoisting、Closure、物件導向和 this 等相關概念。或許是因為看到新名詞時總會感到害怕，會忍不住去查定義，查為什麼要這樣用，不這樣用又會有什麼影響等等，好像要先完全掌握這些名詞的意義以後，才能在繼續再下一步前進。</p>
<p>但實際上，在嘗試理解的過程中，有很重要的一點，就是「實作」。與其查了一堆定義和文字一翻兩瞪眼，倒不如跟著課程範例操作，實際在程式跑過一遍，知道會有怎樣的結果以後，才能理解文字的意義，然後再去試著自己變化程式碼，看看結果有沒有和自己想的一樣，到最後就差不多能夠自己寫出簡單的範例來了。</p>
<p>硬是要把提升、閉包、物件導向或是一些方法定義背起來，其實也記不久，看過就忘了，想想這其實也是自己的壞習慣，在還沒理解之前會想著乾脆先記起來，但隨著要學習的東西越深越廣，再用這種方法實在不是長久之計，直接來個範例吧！是最近有關學習的體悟，之後也要謹記這件事情。</p>
<p>總之，終於把 JavaScript 進階的相關觀念都 Run 過一遍，大致瞭解背後是如何運作，也把過去一些錯誤的觀念改正，或是終於瞭解為什麼以前想賦值給某個變數時，沒有辦法改動值等等。不過理解觀念是一回事，重要的還是如何實際應用，之後實作時也要來試著運用物件導向的概念去寫程式。</p>
<p>再來要繼續往下一週邁進了，繼續努力！</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/callback-event-loop/" rel="prev" title="[week 16] 淺談 JavaScript：同步與非同步 & Callback Function & Event Loop">
      <i class="fa fa-chevron-left"></i> [week 16] 淺談 JavaScript：同步與非同步 & Callback Function & Event Loop
    </a></div>
      <div class="post-nav-item">
    <a href="/express/" rel="next" title="[week 17] 後端中階 - 使用 Node.js + Express 框架建立一個靜態網頁">
      [week 17] 後端中階 - 使用 Node.js + Express 框架建立一個靜態網頁 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
          <div style="">
            
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4274798044223706"
     crossorigin="anonymous"></script>
  <!-- ad_0113 -->
  <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="ca-pub-4274798044223706"
      data-ad-slot="7260167051"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

          </div>
        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#hw1%EF%BC%9AEvent-Loop"><span class="nav-number">1.</span> <span class="nav-text">hw1：Event Loop</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BC%B8%E5%87%BA%E7%B5%90%E6%9E%9C"><span class="nav-number">1.1.</span> <span class="nav-text">輸出結果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%B7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">1.2.</span> <span class="nav-text">執行流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hw2%EF%BC%9AEvent-Loop-Scope"><span class="nav-number">2.</span> <span class="nav-text">hw2：Event Loop + Scope</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BC%B8%E5%87%BA%E7%B5%90%E6%9E%9C-1"><span class="nav-number">2.1.</span> <span class="nav-text">輸出結果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%B7%E8%A1%8C%E6%B5%81%E7%A8%8B-1"><span class="nav-number">2.2.</span> <span class="nav-text">執行流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hw3%EF%BC%9AHoisting"><span class="nav-number">3.</span> <span class="nav-text">hw3：Hoisting</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BC%B8%E5%87%BA%E7%B5%90%E6%9E%9C-2"><span class="nav-number">3.1.</span> <span class="nav-text">輸出結果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%B7%E8%A1%8C%E6%B5%81%E7%A8%8B-2"><span class="nav-number">3.2.</span> <span class="nav-text">執行流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hw4%EF%BC%9AWhat-is-this"><span class="nav-number">4.</span> <span class="nav-text">hw4：What is this?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BC%B8%E5%87%BA%E7%B5%90%E6%9E%9C-3"><span class="nav-number">4.1.</span> <span class="nav-text">輸出結果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%B7%E8%A1%8C%E6%B5%81%E7%A8%8B-3"><span class="nav-number">4.2.</span> <span class="nav-text">執行流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%99%E9%80%B1%E5%AD%B8%E4%BA%86%E4%B8%80%E5%A4%A7%E5%A0%86%E4%BB%A5%E5%89%8D%E6%90%9E%E4%B8%8D%E6%87%82%E7%9A%84%E6%9D%B1%E8%A5%BF%EF%BC%8C%E4%BD%A0%E6%9C%89%E8%AE%8A%E5%BE%97%E6%9B%B4%E6%87%82%E4%BA%86%E5%97%8E%EF%BC%9F%E8%AB%8B%E5%AF%AB%E4%B8%8B%E4%BD%A0%E7%9A%84%E5%BF%83%E5%BE%97%E3%80%82"><span class="nav-number">5.</span> <span class="nav-text">這週學了一大堆以前搞不懂的東西，你有變得更懂了嗎？請寫下你的心得。</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%99%E9%80%B1%E7%9A%84%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98"><span class="nav-number">5.1.</span> <span class="nav-text">這週的學習筆記</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97"><span class="nav-number">5.2.</span> <span class="nav-text">學習心得</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Hoisting-amp-Execution-Contexts-amp-Variable-Object"><span class="nav-number">5.2.1.</span> <span class="nav-text">Hoisting &amp; Execution Contexts &amp; Variable Object</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Event-Loop"><span class="nav-number">5.2.2.</span> <span class="nav-text">Event Loop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Closure-amp-Scope"><span class="nav-number">5.2.3.</span> <span class="nav-text">Closure &amp; Scope</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91-amp-prototype"><span class="nav-number">5.2.4.</span> <span class="nav-text">物件導向 &amp; prototype</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#What-is-this%EF%BC%9F"><span class="nav-number">5.2.5.</span> <span class="nav-text">What is this？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B8%BD%E7%B5%90"><span class="nav-number">5.2.6.</span> <span class="nav-text">總結</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Heidi Liu"
      src="https://avatars3.githubusercontent.com/u/65410665?s=460&u=887bd602944dcf78b90f3a880b03aec4e086728a&v=4">
  <p class="site-author-name" itemprop="name">Heidi Liu</p>
  <div class="site-description" itemprop="description">海底修羅場｜日々進化中</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">81</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hlaWRpbGl1MjAyMA==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;heidiliu2020"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9oZWlkaS1jb2RpbmcubWVkaXVtLmNvbS8=" title="Medium → https:&#x2F;&#x2F;heidi-coding.medium.com&#x2F;"><i class="fab fa-medium fa-fw"></i>Medium</span>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Heidi Liu</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Gemini</span> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='220,220,220' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

<script>
  var disqus_config = function() {
    this.page.url = "https://heidiliu2020.github.io/js201-hw/";
    this.page.identifier = "js201-hw/";
    this.page.title = "[week 16] JavaScript 進階 - 作業練習";
    this.language = "zh_TW"; 
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://heidiblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

    </div>
</body>
</html>
